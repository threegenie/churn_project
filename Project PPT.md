![0001](https://user-images.githubusercontent.com/63702924/126042784-4c2d5114-be15-4c39-9499-3fa57c5491b1.jpg)

![0002](https://user-images.githubusercontent.com/63702924/126042787-61d53e5e-af6f-4e7a-b255-0321462bb51a.jpg)
저는 국내 통신사가 해외 진출을 위해 미국 통신사의 고객 이탈 여부 데이터를 분석하여 고객 유치 전략을 짠다는 시나리오 하에 프로젝트를 진행했습니다. 머신러닝을 통해 분류 모델을 만들고, 어떤 특성이 고객 이탈 여부를 예측하는 데에 가장 큰 영향을 미쳤는지 알아보도록 하겠습니다. 

![0003](https://user-images.githubusercontent.com/63702924/126042789-dae9ba3f-fb2d-42fd-9510-3f4fef7b52de.jpg)
제가 사용할 데이터는 이러한 특성들을 가지고 있습니다. 고객들의 개인 정보와, 각종 서비스 이용 여부, 서비스 요금에 관련된 특성들로 이루어져 있습니다. 제가 예측할 타겟 특성은 고객의 통신사 이탈 여부를 나타내는 Churn입니다. 또한 기존에 존재하는 특성 외에 추가로 5개의 특성을 만들어 예측에 활용했습니다.

![0004](https://user-images.githubusercontent.com/63702924/126042790-d46d350e-d20e-417d-b3ac-1af03f21d8e4.jpg)
먼저 데이터가 어떻게 이루어져 있는지 한눈에 보기 위해 다양한 그래프를 그려 보았습니다. 월별 요금이 높은 고객들의 이탈 비율이 높고, 총 요금이 높은 고객들의 이탈 비율이 비교적 낮게 나타났습니다.

![0005](https://user-images.githubusercontent.com/63702924/126042791-9d6bf896-7533-4b1a-a639-ca8987ebd92f.jpg)
지불 방법별로 월별 요금 분포를 나타낸 그래프입니다. 전자 수표를 통한 결제 방식을 선호하는 사용자가 많다는 것을 알 수 있습니다.

![0006](https://user-images.githubusercontent.com/63702924/126042793-29f1cd60-c084-4668-bd73-c9a7128eb6e0.jpg)
각 특성별로 고객 이탈 비율이 어떻게 되는지 시각화해 보았습니다. 이탈 비율은 성별과는 크게 관련이 없었으며, 고객의 연령대가 높을수록 이탈 비율은 낮아졌습니다.

![0007](https://user-images.githubusercontent.com/63702924/126042796-9ccbffec-1878-4614-8e57-1c35b554f3bb.jpg)
또한 계약 기간이 길어질수록 이탈률이 눈에 띄게 줄어들었다는 것을 알 수 있었습니다.

![0008](https://user-images.githubusercontent.com/63702924/126042797-a0f014ba-ff49-425e-8de6-514476d3be94.jpg)

![0009](https://user-images.githubusercontent.com/63702924/126042798-e671c664-17cc-4fc0-8abe-bbeafacca9b1.jpg)
서비스 이용 여부별로 그래프를 그려 보았을 때,
이용하는 서비스의 개수가 많을수록 이탈비율이 낮아졌다는 것을 알 수 있습니다.


![0010](https://user-images.githubusercontent.com/63702924/126042800-a18b6584-61f5-4970-9221-dc923ac9f9ba.jpg)
예측 모델에 사용할 고객 특성을 정하기 위해서, 각 특성의 중요도를 순서대로 나타내 보았습니다. 중요도가 높은 순으로 8개의 특성을 선정하여 모델을 만드는 데 사용했습니다.

![0011](https://user-images.githubusercontent.com/63702924/126042801-dff64c35-46ef-4ff3-9e61-49e13ddaa84f.jpg)
여러 가지 알고리즘을 사용하여 예측 모델을 만들어 보았습니다. 그 결과, 셋 중에서 정확도가 높은 편이고 실행 속도가 빠른 XGBoost 모델을 사용하여 예측을 진행하기로 했습니다. 

![0012](https://user-images.githubusercontent.com/63702924/126042802-88c5f761-05b6-4af8-8768-606e8a339031.jpg)
XGBoost 모델을 통해 예측한 결과로 ROC Curve와 AUC Score를 계산해 보았습니다. X축은 이탈하지 않은 고객을 이탈했다고 예측한 비율, Y축은 이탈한 고객을 이탈했다고 예측한 비율이므로 곡선이 굽어질수록 고객의 이탈률을 정확히 예측했다는 것을 알 수 있습니다. 또한 AUC Score가 1에 가까울 수록 정확한 모델인데, 이 모델은 AUC Score가 0.8 이상이므로 비교적 정확한 모델이라고 볼 수 있습니다.

![0013](https://user-images.githubusercontent.com/63702924/126042804-1fdb7f65-8554-4922-8f78-9efc3132acf4.jpg)
부분의존도 PDP 그래프를 활용하여 타겟을 예측하는 데에 각각의 특성들이 어떠한 영향을 주는지 알아보았습니다. 먼저 근속 개월수 특성입니다. 개월수가 15정도일때까지는 기울기가 증가하여 고객이 이탈하지 않을 것으로 분류될 확률이 높아지만, 20개월이 넘으면 큰 변화가 없다는 것을 알 수 있습니다.

![0014](https://user-images.githubusercontent.com/63702924/126042805-92a30cc5-0590-4c7b-81a2-aa059e580e69.jpg)
계약 기간 특성입니다. 계약 기간이 길어질수록, 고객이 이탈하지 않을 것으로 분류될 확률이 높아졌습니다.

![0015](https://user-images.githubusercontent.com/63702924/126042806-cb4be78d-16c6-44bf-b617-f8c735b0cbd1.jpg)
다중 회선 이용 여부 특성입니다. 회선을 하나만 사용하는 고객보다 여러 개 사용하는 고객의 이탈률이 조금 더 높게 나타난다는 것을 알 수 있습니다.

![0016](https://user-images.githubusercontent.com/63702924/126042808-43cf4929-3ae9-4ccc-8216-154549385a17.jpg)
이번에는 SHAP value를 그래프로 그려 개별 사용자의 이탈 여부를 예측하는 데 어떠한 특성이 높은 영향을 주었는지 알아보겠습니다. 그래프에 빨간 색으로 표시된 특성이 영향을 많이 미친 특성인데요, 이 고객의 성향을 예측하는 데에는 요금 지불 방법과 총 요금이 높은 영향을 주었습니다. 

![0017](https://user-images.githubusercontent.com/63702924/126042809-b7a9d96e-eef3-4c05-b64e-2d574a21fdf5.jpg)
이 고객은 앞에서 본 경우와 달리 다중 회선을 사용하는지의 여부가 예측에 높은 영향을 주었습니다.

![0018](https://user-images.githubusercontent.com/63702924/126042811-f5030af0-1d27-4947-9c8c-5afb9950b35f.jpg)
마지막으로, 모든 고객의 통신사 이탈 여부를 예측하는 데에 각각의 특성별 기여도를 나타내 주는 그래프입니다. 왼쪽의 그래프에 절댓값을 취해서 오른쪽 그래프처럼 나타낼 수 있습니다. 이 그래프에 따르면 계약 기간, 근속 개월수, 기술지원 서비스 이용 여부가 예측에 가장 중요한 역할을 했습니다. 이 특성들에 주목하면 고객 이탈률을 예측하는 데 도움이 됩니다. 

![0019](https://user-images.githubusercontent.com/63702924/126042812-5ed6d74b-534f-4397-b80d-d931a2302fe6.jpg)
따라서 우리는 고객이 오랫동안 계약을 유지할 수 있도록 기존 고객을 위한 이벤트나 서비스를 많이 제공해야 합니다. 또한 직장에서 오래 근속하는 고객을 추가로 유치할 수 있도록, 기존 장기 이용 고객들이 직장 동료들에게 추천을 해서 가입을 할 경우에 소정의 서비스를 제공하는 제도를 도입해야 합니다. 그리고 기술지원 서비스에 대한 홍보를 확충하고, 기존 서비스의 단점을 보완하여 고객들에게 더욱 유익한 서비스를 지원할 수 있도록 해야 합니다.

![0020](https://user-images.githubusercontent.com/63702924/126042813-8d56b533-92cb-435a-9c94-ae59a76b30c2.jpg)
